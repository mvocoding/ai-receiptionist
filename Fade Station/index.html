<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fade Station · Recordings</title>
  <meta name="description" content="Fade Station AI Receptionist · Call Recordings & Transcripts">
  <link rel="icon"
    href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 128 128'%3E%3Ccircle cx='64' cy='64' r='60' fill='%23000000'/%3E%3Cpath d='M40 80c8 10 40 10 48 0' stroke='%23ffffff' stroke-width='10' stroke-linecap='round' fill='none'/%3E%3Crect x='50' y='34' width='28' height='38' rx='14' fill='%23ffffff'/%3E%3C/svg%3E" />
  <!-- Tailwind CSS CDN for rapid prototyping -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    // Tailwind customization for iOS-like look & feel
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ["-apple-system", "BlinkMacSystemFont", "SF Pro Text", "Inter", "system-ui", "Segoe UI", "Roboto", "Helvetica Neue", "Arial", "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"],
          },
          colors: {
            ios: {
              bg: "#0a0a0a",
              card: "#111111",
              card2: "#0d0d0d",
              accent: "#0ea5e9",
              accent2: "#22d3ee",
              border: "#1f1f1f",
              textMuted: "#9ca3af"
            }
          },
          boxShadow: {
            glow: "0 0 0 1px rgba(255,255,255,0.04), 0 10px 30px rgba(0,0,0,0.45)",
          },
          backdropBlur: {
            xs: '2px'
          }
        }
      },
      darkMode: 'class'
    }
  </script>
  <style>
    /* Smooth scroll for in-page interactions */
    html {
      scroll-behavior: smooth;
    }

    /* iOS momentum scrolling */
    .ios-scroll {
      -webkit-overflow-scrolling: touch;
    }
  </style>
</head>

<body class="min-h-screen bg-black text-white font-sans">
  <!-- App frame -->
  <div class="mx-auto max-w-6xl px-4 py-6">
    <!-- iOS style status and nav -->
    <header class="sticky top-0 z-40">
      <div class="backdrop-blur-md bg-white/5 border border-ios-border rounded-2xl shadow-glow">
        <div class="flex items-center justify-between px-4 py-3">
          <div class="flex items-center gap-3">
            <a href="landing.html" class="flex items-center gap-3 hover:opacity-80 transition">
              <div
                class="h-8 w-8 rounded-xl bg-white/10 flex items-center justify-center backdrop-blur-md border border-white/10">
                <span class="text-xs font-semibold">FS</span>
              </div>
              <div>
                <h1 class="text-lg font-semibold tracking-tight">Recordings</h1>
                <p class="text-xs text-ios-textMuted">Fade Station · AI Receptionist</p>
              </div>
            </a>
          </div>
          <div class="flex items-center gap-2">
            <a href="landing.html"
              class="px-3 py-1.5 rounded-xl text-xs text-ios-textMuted hover:text-white transition">Home</a>
            <a href="communications.html"
              class="px-3 py-1.5 rounded-xl text-xs text-ios-textMuted hover:text-white transition">Messages</a>
            <a href="barbers.html"
              class="px-3 py-1.5 rounded-xl text-xs text-ios-textMuted hover:text-white transition">Barbers</a>
            <a href="training.html"
              class="px-3 py-1.5 rounded-xl text-xs text-ios-textMuted hover:text-white transition">Training</a>
            <a href="flow.html"
              class="px-3 py-1.5 rounded-xl text-xs text-ios-textMuted hover:text-white transition">Flow</a>
            <a href="demo.html"
              class="px-3 py-1.5 rounded-xl text-xs bg-sky-500/90 hover:bg-sky-500 transition shadow">Demo</a>
          </div>
        </div>
        <!-- Search & filters -->
        <div class="px-4 pb-4">
          <div class="flex flex-col md:flex-row md:items-center gap-2">
            <div class="relative flex-1">
              <input id="searchInput" type="text" placeholder="Search name, number, transcript..."
                class="w-full bg-white/5 border border-ios-border rounded-xl pl-10 pr-3 py-2.5 text-sm placeholder:text-ios-textMuted focus:outline-none focus:ring-2 focus:ring-sky-500/50" />
              <svg class="absolute left-3 top-2.5 h-5 w-5 text-ios-textMuted" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8" />
                <path d="M21 21l-4.3-4.3" />
              </svg>
            </div>
            <div class="flex items-center gap-2">
              <div class="inline-flex bg-white/5 border border-ios-border rounded-xl p-1">
                <button data-filter="all" class="filter-btn px-3 py-1.5 text-xs rounded-lg bg-white/10">All</button>
                <button data-filter="completed" class="filter-btn px-3 py-1.5 text-xs rounded-lg">Completed</button>
                <button data-filter="missed" class="filter-btn px-3 py-1.5 text-xs rounded-lg">Missed</button>
              </div>
              <button id="sortBtn" class="px-3 py-1.5 text-xs rounded-xl bg-white/10 border border-ios-border">Sort:
                Newest</button>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- Content -->
    <main class="mt-4 space-y-3" id="listContainer">
      <!-- Items injected by JS -->
    </main>

    <!-- Empty state -->
    <template id="emptyStateTpl">
      <div class="text-center py-20 bg-white/5 border border-ios-border rounded-2xl">
        <div class="mx-auto h-14 w-14 rounded-2xl bg-white/10 flex items-center justify-center mb-4">
          <svg class="h-7 w-7 text-white/70" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 19V6a2 2 0 0 1 2-2h6" />
            <path d="M9 15h9" />
            <path d="M9 11h9" />
            <path d="M5 19h.01" />
          </svg>
        </div>
        <h3 class="font-semibold">No recordings found</h3>
        <p class="text-sm text-ios-textMuted">Try adjusting your search or filters.</p>
      </div>
    </template>

    <!-- Recording item template -->
    <template id="recordItemTpl">
      <section
        class="record-card bg-gradient-to-b from-ios-card to-ios-card2 border border-ios-border rounded-2xl shadow-glow overflow-hidden">
        <div class="p-4 flex items-start gap-4">
          <button
            class="play-btn shrink-0 h-12 w-12 rounded-2xl bg-white/10 hover:bg-white/15 flex items-center justify-center border border-white/10 transition"
            aria-label="Play or pause">
            <svg class="icon-play h-6 w-6" viewBox="0 0 24 24" fill="currentColor">
              <path d="M8 5v14l11-7z" />
            </svg>
            <svg class="icon-pause h-6 w-6 hidden" viewBox="0 0 24 24" fill="currentColor">
              <path d="M6 5h4v14H6zM14 5h4v14h-4z" />
            </svg>
          </button>
          <div class="flex-1 min-w-0">
            <div class="flex flex-wrap items-center gap-2 justify-between">
              <div class="min-w-0">
                <h3 class="truncate font-semibold text-sm"><span class="caller-name"></span> <span
                    class="text-ios-textMuted font-normal">·</span> <span
                    class="caller-number text-ios-textMuted"></span></h3>
                <p class="text-xs text-ios-textMuted leading-5"><span class="timestamp"></span> · <span
                    class="duration"></span></p>
              </div>
              <div class="flex items-center gap-2">
                <span class="status-badge text-[10px] px-2 py-1 rounded-full border"></span>
                <span class="sentiment-badge text-[10px] px-2 py-1 rounded-full border"></span>
              </div>
            </div>
            <!-- Waveform bar (decorative) -->
            <div
              class="mt-3 h-10 w-full bg-[linear-gradient(90deg,rgba(255,255,255,0.08)_1px,transparent_1px),linear-gradient(0deg,rgba(255,255,255,0.06)_1px,transparent_1px)] bg-[size:6px_100%,100%_6px] rounded-xl border border-white/5 relative overflow-hidden">
              <div
                class="progress absolute inset-y-0 left-0 w-0 bg-gradient-to-r from-sky-500/40 via-cyan-400/40 to-emerald-400/40">
              </div>
            </div>
            <!-- Transcript -->
            <details class="mt-3 group">
              <summary
                class="list-none cursor-pointer flex items-center gap-2 text-xs text-ios-textMuted hover:text-white transition">
                <span
                  class="inline-flex h-5 w-5 items-center justify-center rounded-full bg-white/10 border border-white/10">?</span>
                View transcript
                <svg class="ml-auto h-4 w-4 transition group-open:rotate-180" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="2">
                  <path d="m6 9 6 6 6-6" />
                </svg>
              </summary>
              <div class="mt-2 space-y-2 text-sm leading-6">
                <p class="transcript-snippet text-white/90"></p>
                <div class="flex flex-wrap gap-2 text-[10px]">
                  <span
                    class="tag inline-flex items-center gap-1 px-2 py-1 rounded-full bg-white/5 border border-white/10"></span>
                  <span
                    class="assignee inline-flex items-center gap-1 px-2 py-1 rounded-full bg-white/5 border border-white/10"></span>
                </div>
              </div>
            </details>
          </div>
        </div>
        <!-- Footer controls -->
        <div class="px-4 pb-4 flex items-center justify-between text-xs text-ios-textMuted">
          <div class="flex items-center gap-2">
            <button
              class="action-btn px-3 py-1.5 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition">Assign</button>
            <button
              class="action-btn px-3 py-1.5 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition">Archive</button>
          </div>
          <a class="view-full text-sky-400 hover:text-sky-300" href="#">Open</a>
        </div>
        <audio class="audio" preload="none"></audio>
      </section>
    </template>

    <footer class="py-8 text-center text-xs text-ios-textMuted">
      Fade Station · AI Receptionist Dashboard
    </footer>
  </div>

  <script>
    const mockRecordings = [
      {
        id: "rec_101",
        callerName: "Jordan Smith",
        callerNumber: "+64 21 555 1024",
        timestamp: "Today · 10:42 AM",
        duration: 132,
        status: "completed",
        sentiment: "positive",
        tags: ["booking", "fade"],
        assignee: "Barber · Ace",
        transcript: "Hey, I was wondering if you have any availability for a skin fade tomorrow after 3pm? I'm flexible on the time. Also what's the price for beard trim add-on?",
        audioUrl: "https://cdn.pixabay.com/download/audio/2021/09/16/audio_8c4d3f2b7d.mp3?filename=click-124467.mp3"
      },
      {
        id: "rec_102",
        callerName: "Unknown",
        callerNumber: "Private",
        timestamp: "Today · 9:05 AM",
        duration: 0,
        status: "missed",
        sentiment: "neutral",
        tags: ["missed", "callback"],
        assignee: "Unassigned",
        transcript: "Missed call. AI sent an SMS asking for preferred time and service.",
        audioUrl: ""
      },
      {
        id: "rec_103",
        callerName: "Emily Chen",
        callerNumber: "+64 27 880 3344",
        timestamp: "Yesterday · 4:18 PM",
        duration: 245,
        status: "completed",
        sentiment: "neutral",
        tags: ["reschedule", "line-up"],
        assignee: "Barber · Jay",
        transcript: "Hi, I need to move my appointment from Friday to Saturday morning if possible. Also, can I change from a standard cut to a line-up and taper?",
        audioUrl: "https://cdn.pixabay.com/download/audio/2022/03/15/audio_e6a3b.mp3?filename=notification-112557.mp3"
      },
      {
        id: "rec_104",
        callerName: "Leo Martinez",
        callerNumber: "+64 22 901 7777",
        timestamp: "Mon · 2:30 PM",
        duration: 188,
        status: "completed",
        sentiment: "negative",
        tags: ["pricing", "beard"],
        assignee: "Barber · Mia",
        transcript: "I think I was charged wrong last time. Can you confirm the price for full service with beard and hot towel?",
        audioUrl: "https://cdn.pixabay.com/download/audio/2022/03/10/audio_2.mp3?filename=click-124467.mp3"
      }
    ];

    const listContainer = document.getElementById('listContainer');
    const recordItemTpl = document.getElementById('recordItemTpl');
    const emptyStateTpl = document.getElementById('emptyStateTpl');
    const searchInput = document.getElementById('searchInput');
    const filterButtons = Array.from(document.querySelectorAll('.filter-btn'));
    const sortBtn = document.getElementById('sortBtn');
    const darkToggle = document.getElementById('darkToggle');

    let state = {
      query: '',
      filter: 'all',
      sort: 'newest'
    };

    function formatDuration(seconds) {
      const m = Math.floor(seconds / 60);
      const s = seconds % 60;
      return `${m}m ${s.toString().padStart(2, '0')}s`;
    }

    function badge(el, kind, value) {
      const map = {
        status: {
          completed: { text: 'Completed', cls: 'border-emerald-500/30 text-emerald-300 bg-emerald-500/10' },
          missed: { text: 'Missed', cls: 'border-rose-500/30 text-rose-300 bg-rose-500/10' }
        },
        sentiment: {
          positive: { text: 'Positive', cls: 'border-cyan-500/30 text-cyan-300 bg-cyan-500/10' },
          neutral: { text: 'Neutral', cls: 'border-white/20 text-white/80 bg-white/5' },
          negative: { text: 'Negative', cls: 'border-amber-500/30 text-amber-300 bg-amber-500/10' }
        }
      };
      const conf = map[kind][value] || { text: value, cls: 'border-white/20 text-white/80 bg-white/5' };
      el.textContent = conf.text;
      el.className = `${el.className} ${conf.cls}`;
    }

    function renderList() {
      listContainer.innerHTML = '';
      const q = state.query.trim().toLowerCase();
      let rows = mockRecordings.filter(r => {
        const hay = `${r.callerName} ${r.callerNumber} ${r.transcript}`.toLowerCase();
        const matchesQuery = q ? hay.includes(q) : true;
        const matchesFilter = state.filter === 'all' ? true : r.status === state.filter;
        return matchesQuery && matchesFilter;
      });

      rows.sort((a, b) => {
        if (state.sort === 'newest') return b.id.localeCompare(a.id);
        return a.id.localeCompare(b.id);
      });

      if (rows.length === 0) {
        listContainer.appendChild(emptyStateTpl.content.cloneNode(true));
        return;
      }

      for (const r of rows) {
        const node = recordItemTpl.content.cloneNode(true);
        node.querySelector('.caller-name').textContent = r.callerName;
        node.querySelector('.caller-number').textContent = r.callerNumber;
        node.querySelector('.timestamp').textContent = r.timestamp;
        node.querySelector('.duration').textContent = r.duration ? formatDuration(r.duration) : '—';
        node.querySelector('.transcript-snippet').textContent = r.transcript;
        node.querySelector('.tag').textContent = `#${r.tags[0] || 'general'}`;
        node.querySelector('.assignee').textContent = r.assignee;
        const statusEl = node.querySelector('.status-badge');
        const sentimentEl = node.querySelector('.sentiment-badge');
        badge(statusEl, 'status', r.status);
        badge(sentimentEl, 'sentiment', r.sentiment);

        const audio = node.querySelector('.audio');
        const playBtn = node.querySelector('.play-btn');
        const iconPlay = node.querySelector('.icon-play');
        const iconPause = node.querySelector('.icon-pause');
        const progress = node.querySelector('.progress');

        if (r.audioUrl) audio.src = r.audioUrl;
        else playBtn.disabled = true;

        playBtn.addEventListener('click', () => {
          // Pause all others
          document.querySelectorAll('audio').forEach(a => {
            if (a !== audio) a.pause();
          });
          document.querySelectorAll('.icon-pause').forEach(i => i.classList.add('hidden'));
          document.querySelectorAll('.icon-play').forEach(i => i.classList.remove('hidden'));

          if (audio.paused) {
            audio.play();
          } else {
            audio.pause();
          }
        });

        audio.addEventListener('play', () => {
          iconPlay.classList.add('hidden');
          iconPause.classList.remove('hidden');
        });
        audio.addEventListener('pause', () => {
          iconPause.classList.add('hidden');
          iconPlay.classList.remove('hidden');
        });
        audio.addEventListener('timeupdate', () => {
          if (!audio.duration) return;
          const pct = (audio.currentTime / audio.duration) * 100;
          progress.style.width = pct + '%';
        });
        audio.addEventListener('ended', () => {
          progress.style.width = '0%';
          iconPause.classList.add('hidden');
          iconPlay.classList.remove('hidden');
        });

        listContainer.appendChild(node);
      }
    }

    // UI events
    searchInput.addEventListener('input', (e) => {
      state.query = e.target.value;
      renderList();
    });

    filterButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        filterButtons.forEach(b => b.classList.remove('bg-white/10'));
        btn.classList.add('bg-white/10');
        state.filter = btn.dataset.filter;
        renderList();
      });
    });

    sortBtn.addEventListener('click', () => {
      state.sort = state.sort === 'newest' ? 'oldest' : 'newest';
      sortBtn.textContent = `Sort: ${state.sort === 'newest' ? 'Newest' : 'Oldest'}`;
      renderList();
    });

    // Dark toggle (kept simple; page is already dark-first)
    darkToggle.addEventListener('click', () => {
      document.documentElement.classList.toggle('light');
    });

    // Initial render
    renderList();
  </script>
</body>

</html>